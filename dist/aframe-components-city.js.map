{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/main.js","webpack:///./src/querier_github.js","webpack:///./src/querier_json.js","webpack:///./src/vismapper.js","webpack:///./src/visdata.js","webpack:///./src/interaction-mapper.js","webpack:///./src/debug-data.js","webpack:///./node_modules/aframe-layout-component/index.js","webpack:///./node_modules/aframe-super-keyboard/index.js","webpack:///./node_modules/aframe-super-keyboard/keyboards.js","webpack:///./node_modules/aframe-text-geometry-component/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","AFRAME","Error","registerComponent","schema","user","type","token","repos","multiple","init","data","this","el","length","requestAllReposFromUser","requestReposFromList","update","oldData","remove","pause","play","dataOfRepos","forEach","e","request","XMLHttpRequest","url","Date","getTime","open","onload","status","console","log","id","rawData","JSON","parse","response","reject","statusText","xhr","onerror","send","dataRetrieved","setAttribute","stringify","dataEventLoaded","CustomEvent","detail","dispatchEvent","allReposParse","dataParsed","embedded","requestJSONDataFromURL","parseEmbeddedJSONData","String","width","depth","height","debug","showDebugPlane","dataToShow","components","geometry","primitive","addEventListener","debugPanel","entity","document","createElement","parentPos","getAttribute","x","WIDTH_PLANE_DEBUG","y","HEIGHT_PLANE_DEBUG","z","textEntity","appendChild","generateDebugPanel","removeChild","childNodes","dependencies","from","index","querierElement","getElementById","dataFromQuerier","isNaN","parseInt","saveEntityData","keys","vismapper","removeEventListener","dataToSave","input","output","mapEvents","emit","inputEvent","listenEvent","querySelector","positions","positionHelper","THREE","Vector3","getBoxPositions","numChildren","marginDefined","column","marginColumn","marginRow","offsetColumn","offsetRow","row","rows","Math","ceil","columns","margin","getOffsetItemIndex","align","set","plane","indexOf","pushPositionVec3","getCirclePositions","rad","angle","PI","radius","cos","sin","getLinePositions","getCubePositions","pushPositions","scalePositions","getDodecahedronPositions","PHI","sqrt","B","C","NB","NC","getPyramidPositions","SQRT_3","NEG_SQRT_1_3","numItems","scale","setPositions","els","orderAttribute","orderIndex","object3D","position","arguments","push","vec3","default","min","max","if","reverse","oneOf","fill","self","children","getChildEntities","initialPositions","childEl","hasLoaded","_getPositions","handleChildAttached","handleChildDetached","definedData","positionFn","getDOMAttribute","evt","parentNode","splice","KEYBOARDS","FontFactors","roboto","aileronsemibold","dejavu","exo2bold","exo2semibold","kelsonsans","monoid","mozillavr","sourcecodepro","findFontChar","chars","code","blinkingSpeed","filters","font","hand","imagePath","injectToRaycasterObjects","inputColor","interval","keyBgColor","keyColor","keyHoverColor","keyPressColor","label","labelColor","maxLength","model","show","click","changeEventDetail","textInputObject","focused","keyHover","prevCheckTime","shift","rawValue","defaultValue","userFilterFunc","intervalId","kbImg","classList","add","hover","blur","baseline","lineHeight","color","wrapCount","textInput","cursor","shader","cursorUpdated","Color","ev","ss","floor","random","handListenersSet","raycaster","kbdata","w","h","undefined","updateTextInput","filter","src","img","transparent","initKeyColorPlane","inputx","inputOffsetX","layout","kdata","inputRect","inputOffsetY","updateCursorPosition","setupHand","close","error","tick","time","intersection","getIntersection","uv","k","updateKeyColorPlane","startBlinking","stopBlinking","keyColorPlane","visible","getObject3D","material","blending","AdditiveBlending","w2","h2","keyw","keyh","copy","ownRaycaster","removeAttribute","join","params","objs","objects","split","replace","showLine","enabled","str","toUpperCase","toLowerCase","map","substr","trim","accept","newValue","dismiss","setTimeout","window","setInterval","blink","clearInterval","setCustomFilter","f","addCustomModel","text","currentFont","posy","ratio","pos","fontFactor","char","charCodeAt","xadvance","basic","numpad","utils","fontLoader","FontLoader","bevelEnabled","bevelSize","bevelThickness","curveSegments","size","style","weight","mesh","getOrCreateObject3D","Mesh","constructor","load","textData","clone","TextGeometry"],"mappings":"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","file":"aframe-components-city.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","import './querier_github'\nimport './querier_json'\nimport './vismapper'\nimport './visdata'\nimport './interaction-mapper'\nimport './debug-data'\nimport 'aframe-layout-component'\nimport 'aframe-super-keyboard'\nimport 'aframe-text-geometry-component'\n\n\n","/* global AFRAME */\nif (typeof AFRAME === 'undefined') {\n    throw new Error('Component attempted to register before AFRAME was available.');\n}\n\n/**\n* A-Charts component for A-Frame.\n*/\nAFRAME.registerComponent('querier_github', {\n    schema: {\n        user: { type: 'string' },\n        token: { type: 'string' },\n        repos: { type: 'array' }\n    },\n\n    /**\n    * Set if component needs multiple instancing.\n    */\n    multiple: false,\n\n    /**\n    * Called once when component is attached. Generally for initial setup.\n    */\n    init: function () {\n        let data = this.data;\n        let el = this.el;\n\n        if (data.user && (data.repos.length === 0)) {\n            requestAllReposFromUser(data, el)\n        } else if (data.repos.length > 0) {\n            requestReposFromList(data, el)\n        }\n\n    },\n\n    /**\n    * Called when component is attached and when component data changes.\n    * Generally modifies the entity based on the data.\n    */\n\n    update: function (oldData) {\n        var data = this.data;\n        var el = this.el;\n\n    },\n    /**\n    * Called when a component is removed (e.g., via removeAttribute).\n    * Generally undoes all modifications to the entity.\n    */\n    remove: function () { },\n\n    /**\n    * Called on each scene tick.\n    */\n    // tick: function (t) { },\n\n    /**\n    * Called when entity pauses.\n    * Use to stop or remove any dynamic or background behavior such as events.\n    */\n    pause: function () { },\n\n    /**\n    * Called when entity resumes.\n    * Use to continue or add any dynamic or background behavior such as events.\n    */\n    play: function () { },\n\n})\n\nlet requestReposFromList = (data, el) => {\n    let dataOfRepos = {}\n\n    data.repos.forEach((e, i) => {\n        // Create a new request object\n        let request = new XMLHttpRequest();\n\n        // Create url\n        let url = \"https://api.github.com/repos/\" + data.user + \"/\" + e + \"?_=\" + new Date().getTime();\n\n        // Initialize a request\n        request.open('get', url, false)\n        // Send it\n        request.onload = function () {\n            if (this.status >= 200 && this.status < 300) {\n                console.log(\"data OK in request.response\", el.id)\n\n                // Save data\n                let rawData = JSON.parse(request.response)\n                dataOfRepos[rawData.name] = rawData;\n\n            } else {\n                reject({\n                    status: this.status,\n                    statusText: xhr.statusText\n                });\n            }\n        };\n        request.onerror = function () {\n            reject({\n                status: this.status,\n                statusText: xhr.statusText\n            });\n        };\n        request.send();\n    })\n\n    // Save data\n    data.dataRetrieved = dataOfRepos\n    el.setAttribute(\"data_retrieved\", JSON.stringify(data.dataRetrieved))\n    // Create the event\n    var dataEventLoaded = new CustomEvent(\"dataReady\" + el.id, { \"detail\": data.dataRetrieved });\n\n    // Dispatch/Trigger/Fire the event\n    el.dispatchEvent(dataEventLoaded);\n}\n\n\nlet requestAllReposFromUser = (data, el) => {\n    // Create a new request object\n    let request = new XMLHttpRequest();\n\n    // Create url\n    let url = \"https://api.github.com/users/\" + data.user + \"/repos?_=\" + new Date().getTime();\n\n    // Initialize a request\n    request.open('get', url)\n    // Send it\n    request.onload = function () {\n        if (this.status >= 200 && this.status < 300) {\n            console.log(\"data OK in request.response\", el.id)\n\n            // Save data\n            data.dataRetrieved = allReposParse(JSON.parse(request.response))\n            el.setAttribute(\"data_retrieved\", JSON.stringify(data.dataRetrieved))\n\n            // Create the event\n            var dataEventLoaded = new CustomEvent(\"dataReady\" + el.id, { \"detail\": data.dataRetrieved });\n\n            // Dispatch/Trigger/Fire the event\n            el.dispatchEvent(dataEventLoaded);\n\n        } else {\n            reject({\n                status: this.status,\n                statusText: xhr.statusText\n            });\n        }\n    };\n    request.onerror = function () {\n        reject({\n            status: this.status,\n            statusText: xhr.statusText\n        });\n    };\n    request.send();\n}\n\nlet allReposParse = (data) => {\n    let dataParsed = {}\n    data.forEach((e, i) => {\n        dataParsed[e.name] = e\n    });\n    return dataParsed\n}","/* global AFRAME */\nif (typeof AFRAME === 'undefined') {\n    throw new Error('Component attempted to register before AFRAME was available.');\n}\n\n/**\n* A-Charts component for A-Frame.\n*/\nAFRAME.registerComponent('querier_json', {\n    schema: {\n        url: { type: 'string' },\n        embedded: { type: 'string' }\n    },\n\n    /**\n    * Set if component needs multiple instancing.\n    */\n    multiple: false,\n\n    /**\n    * Called once when component is attached. Generally for initial setup.\n    */\n    init: function () {\n        let data = this.data;\n        let el = this.el;\n\n        if (data.url) {\n            requestJSONDataFromURL(data, el)\n        } else if (data.embedded) {\n            parseEmbeddedJSONData(data, el)\n        }\n\n    },\n\n    /**\n    * Called when component is attached and when component data changes.\n    * Generally modifies the entity based on the data.\n    */\n\n    update: function (oldData) {\n        var data = this.data;\n        var el = this.el;\n\n    },\n    /**\n    * Called when a component is removed (e.g., via removeAttribute).\n    * Generally undoes all modifications to the entity.\n    */\n    remove: function () { },\n\n    /**\n    * Called on each scene tick.\n    */\n    // tick: function (t) { },\n\n    /**\n    * Called when entity pauses.\n    * Use to stop or remove any dynamic or background behavior such as events.\n    */\n    pause: function () { },\n\n    /**\n    * Called when entity resumes.\n    * Use to continue or add any dynamic or background behavior such as events.\n    */\n    play: function () { },\n\n})\n\n\nlet requestJSONDataFromURL = (data, el) => {\n    // Create a new request object\n    let request = new XMLHttpRequest();\n\n    // Initialize a request\n    request.open('get', data.url)\n    // Send it\n    request.onload = function () {\n        if (this.status >= 200 && this.status < 300) {\n            //console.log(\"data OK in request.response\", request.response)\n\n            // Save data\n            if (typeof request.response === 'string' || request.response instanceof String) {\n                data.dataRetrieved = JSON.parse(request.response)\n            } else {\n                data.dataRetrieved = request.response\n            }\n            el.setAttribute(\"data_retrieved\", JSON.stringify(data.dataRetrieved))\n\n            // Create the event\n            var dataEventLoaded = new CustomEvent(\"dataReady\" + el.id, { \"detail\": data.dataRetrieved });\n\n            // Dispatch/Trigger/Fire the event\n            el.dispatchEvent(dataEventLoaded);\n\n        } else {\n            reject({\n                status: this.status,\n                statusText: xhr.statusText\n            });\n        }\n    };\n    request.onerror = function () {\n        reject({\n            status: this.status,\n            statusText: xhr.statusText\n        });\n    };\n    request.send();\n}\n\nlet parseEmbeddedJSONData = (data, el) => {\n    // Save data\n    data.dataRetrieved = JSON.parse(data.embedded)\n    el.setAttribute(\"data_retrieved\", data.embedded)\n\n    // Create the event\n    var dataEventLoaded = new CustomEvent(\"dataReady\" + el.id, { \"detail\": data.dataRetrieved });\n\n    // Dispatch/Trigger/Fire the event\n    el.dispatchEvent(dataEventLoaded);\n}","/* global AFRAME */\nif (typeof AFRAME === 'undefined') {\n    throw new Error('Component attempted to register before AFRAME was available.');\n}\n\n/**\n* A-Charts component for A-Frame.\n*/\nAFRAME.registerComponent('vismapper', {\n    schema: {\n        width: { type: 'string' },\n        depth: { type: 'string' },\n        height: { type: 'string' },\n        debug: { type: 'boolean' }\n    },\n\n    /**\n    * Set if component needs multiple instancing.\n    */\n    multiple: false,\n\n    /**\n    * Called once when component is attached. Generally for initial setup.\n    */\n    init: function () {\n        let data = this.data;\n        let el = this.el;\n\n        if (data.debug) {\n            showDebugPlane(data, el);\n        }\n    },\n\n    /**\n    * Called when component is attached and when component data changes.\n    * Generally modifies the entity based on the data.\n    */\n\n    update: function (oldData) {\n        var data = this.data;\n        var el = this.el;\n\n        /**\n         * Update geometry component\n         */\n        if (data.dataToShow) {\n            if (el.components.geometry.data.primitive === \"box\") {\n                el.components.geometry.data.height = (data.dataToShow[data.height] / 100)\n                el.components.geometry.data.width = data.dataToShow[data.width] || 2\n                el.components.geometry.data.depth = data.dataToShow[data.depth] || 2\n                el.setAttribute(\"position\", \"0 \" + data.dataToShow[data.height] / 200 + \" 0\")\n            }\n            el.components.geometry.update(el.components.geometry.data)\n        }\n    },\n    /**\n    * Called when a component is removed (e.g., via removeAttribute).\n    * Generally undoes all modifications to the entity.\n    */\n    remove: function () { },\n\n    /**\n    * Called on each scene tick.\n    */\n    // tick: function (t) { },\n\n    /**\n    * Called when entity pauses.\n    * Use to stop or remove any dynamic or background behavior such as events.\n    */\n    pause: function () { },\n\n    /**\n    * Called when entity resumes.\n    * Use to continue or add any dynamic or background behavior such as events.\n    */\n    play: function () { },\n\n})\n\n\nlet showDebugPlane = (data, el) => {\n    console.log(\"OK, debug mode activated\")\n    el.addEventListener(\"mouseenter\", function (e) {\n        //console.log(e.target)\n        //e.target.setAttribute('scale', { x: 2, y: 2, z: 2 });\n        let debugPanel = generateDebugPanel(data, el);\n        el.appendChild(debugPanel)\n    });\n    el.addEventListener(\"mouseleave\", function (e) {\n        //console.log(e.target)\n        //e.target.setAttribute('scale', { x: 2, y: 2, z: 2 });\n        el.removeChild(el.childNodes[0])\n    });\n}\n\nfunction generateDebugPanel(data, el) {\n    const HEIGHT_PLANE_DEBUG = 10\n    const WIDTH_PLANE_DEBUG = 10\n    let entity = document.createElement('a-plane');\n    entity.setAttribute('color', 'white');\n    entity.setAttribute('width', HEIGHT_PLANE_DEBUG);\n    entity.setAttribute('height', WIDTH_PLANE_DEBUG);\n    let parentPos = el.getAttribute(\"position\")\n    entity.setAttribute('position', {x: parentPos.x + el.getAttribute(\"geometry\").width/2 + WIDTH_PLANE_DEBUG/2, y: 0 - el.getAttribute(\"geometry\").height/2 + HEIGHT_PLANE_DEBUG/2, z: parentPos.z});\n\n    let textEntity = document.createElement('a-text');\n    textEntity.setAttribute('value', JSON.stringify(data.dataToShow));\n    textEntity.setAttribute('width', HEIGHT_PLANE_DEBUG);\n    textEntity.setAttribute('height', WIDTH_PLANE_DEBUG);\n    textEntity.setAttribute('color', 'black');\n    textEntity.setAttribute('position', {x: 0 - entity.getAttribute('width')/2, y: 0 - el.getAttribute(\"height\")/2, z: 0});\n\n    entity.appendChild(textEntity)\n    return entity;\n}","/* global AFRAME */\nif (typeof AFRAME === 'undefined') {\n  throw new Error('Component attempted to register before AFRAME was available.');\n}\n\n/**\n* A-Charts component for A-Frame.\n*/\nAFRAME.registerComponent('visdata', {\n  dependencies: ['querier', 'vismapper'],\n  schema: {\n    from: { type: 'string' },\n    index: { type: 'string' }\n  },\n\n  /**\n  * Set if component needs multiple instancing.\n  */\n  multiple: false,\n\n  /**\n  * Called once when component is attached. Generally for initial setup.\n  */\n  init: function () {\n    let data = this.data;\n    let el = this.el;\n\n    let querierElement = document.getElementById(data.from)\n    if (querierElement.getAttribute('data_retrieved')) {\n      let dataFromQuerier = JSON.parse(querierElement.getAttribute('data_retrieved'));\n      // Get if key or index\n      if (!dataFromQuerier[data.index] && !isNaN(parseInt(data.index))) {\n        saveEntityData(data, el, dataFromQuerier[Object.keys(dataFromQuerier)[parseInt(data.index)]])\n      } else {\n        saveEntityData(data, el, dataFromQuerier[data.index])\n      }\n\n    } else {\n      // Get if key or index\n      document.getElementById(data.from).addEventListener('dataReady' + data.from, function (e) {\n        if (!e.detail[data.index] && !isNaN(parseInt(data.index))) {\n          saveEntityData(data, el, e.detail[Object.keys(e.detail)[parseInt(data.index)]])\n          el.setAttribute(\"visdata\", \"dataRetrieved\", data.dataRetrieved)\n        } else {\n          saveEntityData(data, el, e.detail[data.index])\n          el.setAttribute(\"visdata\", \"dataRetrieved\", data.dataRetrieved)\n        }\n      })\n    }\n  },\n\n  /**\n  * Called when component is attached and when component data changes.\n  * Generally modifies the entity based on the data.\n  */\n\n  update: function (oldData) {\n    var data = this.data;\n    var el = this.el;\n\n    // If entry it means that the data changed\n    if (data !== oldData) {\n      if (data.dataRetrieved !== oldData.dataRetrieved) {\n        el.components.vismapper.data.dataToShow = data.dataRetrieved;\n        el.components.vismapper.update(el.components.vismapper.data)\n      }\n      if (data.from !== oldData.from) {\n        console.log(\"Change event because from has changed\")\n        // Remove the event of the old querier\n        document.getElementById(data.from).removeEventListener('dataReady' + oldData.from, function (e) { })\n        // Listen the event when querier ready\n        document.getElementById(data.from).addEventListener('dataReady' + data.from, function (e) {\n          saveEntityData(data, el, e.detail[data.index])\n          el.components.vismapper.data.dataToShow = data.dataRetrieved;\n          el.components.vismapper.update(el.components.vismapper.data)\n        });\n      }\n    }\n\n  },\n  /**\n  * Called when a component is removed (e.g., via removeAttribute).\n  * Generally undoes all modifications to the entity.\n  */\n  remove: function () { },\n\n  /**\n  * Called on each scene tick.\n  */\n  // tick: function (t) { },\n\n  /**\n  * Called when entity pauses.\n  * Use to stop or remove any dynamic or background behavior such as events.\n  */\n  pause: function () { },\n\n  /**\n  * Called when entity resumes.\n  * Use to continue or add any dynamic or background behavior such as events.\n  */\n  play: function () { },\n\n})\n\nlet saveEntityData = (data, el, dataToSave) => {\n  data.dataRetrieved = dataToSave\n  el.setAttribute(\"dataEntity\", JSON.stringify(dataToSave))\n}","/* global AFRAME */\nif (typeof AFRAME === 'undefined') {\n    throw new Error('Component attempted to register before AFRAME was available.');\n}\n\n/**\n* A-Charts component for A-Frame.\n*/\nAFRAME.registerComponent('interaction-mapper', {\n    schema: {\n        input: { type: 'string' },\n        output: { type: 'string' }\n    },\n\n    /**\n    * Set if component needs multiple instancing.\n    */\n    multiple: false,\n\n    /**\n    * Called once when component is attached. Generally for initial setup.\n    */\n    init: function () {\n        let data = this.data;\n        let el = this.el;\n\n        if (data.input && data.output) {\n            mapEvents(data, el);\n        }\n    },\n\n    /**\n    * Called when component is attached and when component data changes.\n    * Generally modifies the entity based on the data.\n    */\n\n    update: function (oldData) {\n        var data = this.data;\n        var el = this.el;\n\n        /**\n         * Update geometry component\n         */\n        // If entry it means that the properties changed\n        if (data !== oldData) {\n            if (data.input !== oldData.input || data.output !== oldData.output) {\n                console.log(\"Change event because from has changed\")\n                // Remove the event of the old interaction\n                el.removeEventListener(oldData.input, function (e) { })\n                // Listen and map the new event\n                mapEvents(data, el);\n            }\n        }\n    },\n    /**\n    * Called when a component is removed (e.g., via removeAttribute).\n    * Generally undoes all modifications to the entity.\n    */\n    remove: function () { },\n\n    /**\n    * Called on each scene tick.\n    */\n    // tick: function (t) { },\n\n    /**\n    * Called when entity pauses.\n    * Use to stop or remove any dynamic or background behavior such as events.\n    */\n    pause: function () { },\n\n    /**\n    * Called when entity resumes.\n    * Use to continue or add any dynamic or background behavior such as events.\n    */\n    play: function () { },\n\n})\n\nlet mapEvents = (data, el) => {\n    el.addEventListener(data.input, function (e) {\n        // Dispatch/Trigger/Fire the event\n        el.emit(data.output, e, false);\n    });\n}","/* global AFRAME */\nif (typeof AFRAME === 'undefined') {\n    throw new Error('Component attempted to register before AFRAME was available.');\n}\n\n/**\n* A-Charts component for A-Frame.\n*/\nAFRAME.registerComponent('debug-data', {\n    schema: {\n        inputEvent: { type: 'string' }\n    },\n\n    /**\n    * Set if component needs multiple instancing.\n    */\n    multiple: false,\n\n    /**\n    * Called once when component is attached. Generally for initial setup.\n    */\n    init: function () {\n        let data = this.data;\n        let el = this.el;\n\n        if (data.input && data.output) {\n            listenEvent(data, el);\n        }\n    },\n\n    /**\n    * Called when component is attached and when component data changes.\n    * Generally modifies the entity based on the data.\n    */\n\n    update: function (oldData) {\n        var data = this.data;\n        var el = this.el;\n\n        /**\n         * Update geometry component\n         */\n        if (data !== oldData) {\n            if (data.inputEvent !== oldData.inputEvent) {\n                console.log(\"Change event because from has changed\")\n                // Remove the event of the old interaction\n                el.removeEventListener(data.inputEvent, function (e) { })\n                // Listen and map the new event\n                listenEvent(data, el);\n            }\n        }\n    },\n    /**\n    * Called when a component is removed (e.g., via removeAttribute).\n    * Generally undoes all modifications to the entity.\n    */\n    remove: function () { },\n\n    /**\n    * Called on each scene tick.\n    */\n    // tick: function (t) { },\n\n    /**\n    * Called when entity pauses.\n    * Use to stop or remove any dynamic or background behavior such as events.\n    */\n    pause: function () { },\n\n    /**\n    * Called when entity resumes.\n    * Use to continue or add any dynamic or background behavior such as events.\n    */\n    play: function () { },\n\n})\n\nlet listenEvent = (data, el) => {\n    el.addEventListener(data.inputEvent, function (e) {\n        // Dispatch/Trigger/Fire the event\n        showDebugPlane(data, el)\n    });\n}\n\nlet showDebugPlane = (data, el) => {\n    let debugPanel = generateDebugPanel(data, el, el.getAttribute('dataEntity'));\n    \n    if (!el.querySelector('.debug-data')) {\n        el.appendChild(debugPanel)\n    }\n}\n\nfunction generateDebugPanel(data, el, dataToShow) {\n    const HEIGHT_PLANE_DEBUG = 10\n    const WIDTH_PLANE_DEBUG = 10\n    let entity = document.createElement('a-plane');\n    entity.setAttribute('color', 'white');\n    entity.setAttribute('class', 'debug-data');\n    entity.setAttribute('width', HEIGHT_PLANE_DEBUG);\n    entity.setAttribute('height', WIDTH_PLANE_DEBUG);\n    let parentPos = el.getAttribute(\"position\")\n    entity.setAttribute('position', { x: parentPos.x + el.getAttribute(\"geometry\").width / 2 + WIDTH_PLANE_DEBUG / 2, y: 0 - el.getAttribute(\"geometry\").height / 2 + HEIGHT_PLANE_DEBUG / 2, z: parentPos.z });\n\n    let textEntity = document.createElement('a-text');\n    textEntity.setAttribute('value', JSON.stringify(dataToShow));\n    textEntity.setAttribute('width', HEIGHT_PLANE_DEBUG);\n    textEntity.setAttribute('height', WIDTH_PLANE_DEBUG);\n    textEntity.setAttribute('color', 'black');\n    textEntity.setAttribute('position', { x: 0 - entity.getAttribute('width') / 2, y: 0 - el.getAttribute(\"height\") / 2, z: 0 });\n\n    entity.appendChild(textEntity)\n    return entity;\n}","var positions = [];\nvar positionHelper = new THREE.Vector3();\n\n/**\n * Layout component for A-Frame.\n * Some layouts adapted from http://www.vb-helper.com/tutorial_platonic_solids.html\n */\nAFRAME.registerComponent('layout', {\n  schema: {\n    angle: {type: 'number', default: false, min: 0, max: 360, if: {type: ['circle']}},\n    columns: {default: 1, min: 0, if: {type: ['box']}},\n    margin: {default: 1, min: 0, if: {type: ['box', 'line']}},\n    marginColumn: {default: 1, min: 0, if: {type: ['box']}},\n    marginRow: {default: 1, min: 0, if: {type: ['box']}},\n    orderAttribute: {default: ''},\n    plane: {default: 'xy'},\n    radius: {default: 1, min: 0, if: {type: ['circle', 'cube', 'dodecahedron', 'pyramid']}},\n    reverse: {default: false},\n    type: {default: 'line', oneOf: ['box', 'circle', 'cube', 'dodecahedron', 'line',\n                                    'pyramid']},\n    fill: {default: true, if: {type: ['circle']}},\n    align: {default: 'end', oneOf: ['start', 'center', 'end']}\n  },\n\n  /**\n   * Store initial positions in case need to reset on component removal.\n   */\n  init: function () {\n    var self = this;\n    var el = this.el;\n\n    this.children = el.getChildEntities();\n    this.initialPositions = [];\n\n    this.children.forEach(function getInitialPositions (childEl) {\n      if (childEl.hasLoaded) { return _getPositions(); }\n      childEl.addEventListener('loaded', _getPositions);\n      function _getPositions () {\n        self.initialPositions.push(childEl.object3D.position.x);\n        self.initialPositions.push(childEl.object3D.position.y);\n        self.initialPositions.push(childEl.object3D.position.z);\n      }\n    });\n\n    this.handleChildAttached = this.handleChildAttached.bind(this);\n    this.handleChildDetached = this.handleChildDetached.bind(this);\n\n    el.addEventListener('child-attached', this.handleChildAttached);\n    el.addEventListener('child-detached', this.handleChildDetached);\n    el.addEventListener('layoutrefresh', this.update.bind(this));\n  },\n\n  /**\n   * Update child entity positions.\n   */\n  update: function (oldData) {\n    var children = this.children;\n    var data = this.data;\n    var definedData;\n    var el = this.el;\n    var numChildren;\n    var positionFn;\n\n    numChildren = children.length;\n\n    // Calculate different positions based on layout shape.\n    switch (data.type) {\n      case 'box': {\n        positionFn = getBoxPositions;\n        break;\n      }\n      case 'circle': {\n        positionFn = getCirclePositions;\n        break;\n      }\n      case 'cube': {\n        positionFn = getCubePositions;\n        break;\n      }\n      case 'dodecahedron': {\n        positionFn = getDodecahedronPositions;\n        break;\n      }\n      case 'pyramid': {\n        positionFn = getPyramidPositions;\n        break;\n      }\n      default: {\n        // Line.\n        positionFn = getLinePositions;\n      }\n    }\n\n    definedData = el.getDOMAttribute('layout');\n    positions.length = 0;\n    positions = positionFn(\n      data, numChildren,\n      typeof definedData === 'string'\n        ? definedData.indexOf('margin') !== -1\n        : 'margin' in definedData\n    );\n    if (data.reverse) { positions.reverse(); }\n    setPositions(children, positions, data.orderAttribute);\n  },\n\n  /**\n   * Reset positions.\n   */\n  remove: function () {\n    this.el.removeEventListener('child-attached', this.handleChildAttached);\n    this.el.removeEventListener('child-detached', this.handleChildDetached);\n    setPositions(this.children, this.initialPositions);\n  },\n\n  handleChildAttached: function (evt) {\n    // Only update if direct child attached.\n    var el = this.el;\n    if (evt.detail.el.parentNode !== el) { return; }\n    this.children.push(evt.detail.el);\n    this.update();\n  },\n\n  handleChildDetached: function (evt) {\n    // Only update if direct child detached.\n    if (this.children.indexOf(evt.detail.el) === -1) { return; }\n    this.children.splice(this.children.indexOf(evt.detail.el), 1);\n    this.initialPositions.splice(this.children.indexOf(evt.detail.el), 1);\n    this.update();\n  }\n});\n\n/**\n * Get positions for `box` layout.\n */\nfunction getBoxPositions (data, numChildren, marginDefined) {\n  var column;\n  var marginColumn;\n  var marginRow;\n  var offsetColumn;\n  var offsetRow;\n  var row;\n  var rows = Math.ceil(numChildren / data.columns);\n\n  marginColumn = data.marginColumn;\n  marginRow = data.marginRow;\n  if (marginDefined) {\n    marginColumn = data.margin;\n    marginRow = data.margin;\n  }\n\n  offsetRow = getOffsetItemIndex(data.align, rows);\n  offsetColumn = getOffsetItemIndex(data.align, data.columns);\n\n  for (row = 0; row < rows; row++) {\n    for (column = 0; column < data.columns; column++) {\n      positionHelper.set(0, 0, 0);\n      if (data.plane.indexOf('x') === 0) {\n        positionHelper.x = (column - offsetColumn) * marginColumn;\n      }\n      if (data.plane.indexOf('y') === 0) {\n        positionHelper.y = (column - offsetColumn) * marginColumn;\n      }\n      if (data.plane.indexOf('y') === 1) {\n        positionHelper.y = (row - offsetRow) * marginRow;\n      }\n      if (data.plane.indexOf('z') === 1) {\n        positionHelper.z = (row - offsetRow) * marginRow;\n      }\n      pushPositionVec3(positionHelper);\n    }\n  }\n\n  return positions;\n}\nmodule.exports.getBoxPositions = getBoxPositions;\n\n/**\n * Get positions for `circle` layout.\n */\nfunction getCirclePositions (data, numChildren) {\n  var i;\n  var rad;\n\n  for (i = 0; i < numChildren; i++) {\n    rad;\n\n    if (isNaN(data.angle)) {\n      rad = i * (2 * Math.PI) / numChildren;\n    } else {\n      rad = i * data.angle * 0.01745329252;  // Angle to radian.\n    }\n\n    positionHelper.set(0, 0, 0);\n    if (data.plane.indexOf('x') === 0) {\n      positionHelper.x = data.radius * Math.cos(rad);\n    }\n    if (data.plane.indexOf('y') === 0) {\n      positionHelper.y = data.radius * Math.cos(rad);\n    }\n    if (data.plane.indexOf('y') === 1) {\n      positionHelper.y = data.radius * Math.sin(rad);\n    }\n    if (data.plane.indexOf('z') === 1) {\n      positionHelper.z = data.radius * Math.sin(rad);\n    }\n    pushPositionVec3(positionHelper);\n  }\n  return positions;\n}\nmodule.exports.getCirclePositions = getCirclePositions;\n\n/**\n * Get positions for `line` layout.\n * TODO: 3D margins.\n */\nfunction getLinePositions (data, numChildren) {\n  data.columns = numChildren;\n  return getBoxPositions(data, numChildren, true);\n}\nmodule.exports.getLinePositions = getLinePositions;\n\n/**\n * Get positions for `cube` layout.\n */\nfunction getCubePositions (data, numChildren) {\n  pushPositions(\n    1, 0, 0,\n    0, 1, 0,\n    0, 0, 1,\n    -1, 0, 0,\n    0, -1, 0,\n    0, 0, -1\n  );\n  scalePositions(data.radius / 2);\n  return positions;\n}\nmodule.exports.getCubePositions = getCubePositions;\n\n/**\n * Get positions for `dodecahedron` layout.\n */\nfunction getDodecahedronPositions (data, numChildren) {\n  var PHI = (1 + Math.sqrt(5)) / 2;\n  var B = 1 / PHI;\n  var C = 2 - PHI;\n  var NB = -1 * B;\n  var NC = -1 * C;\n  pushPositions(\n    -1, C, 0,\n    -1, NC, 0,\n    0, -1, C,\n    0, -1, NC,\n    0, 1, C,\n    0, 1, NC,\n    1, C, 0,\n    1, NC, 0,\n    B, B, B,\n    B, B, NB,\n    B, NB, B,\n    B, NB, NB,\n    C, 0, 1,\n    C, 0, -1,\n    NB, B, B,\n    NB, B, NB,\n    NB, NB, B,\n    NB, NB, NB,\n    NC, 0, 1,\n    NC, 0, -1\n  );\n  scalePositions(data.radius / 2);\n  return positions;\n}\nmodule.exports.getDodecahedronPositions = getDodecahedronPositions;\n\n/**\n * Get positions for `pyramid` layout.\n */\nfunction getPyramidPositions (data, numChildren) {\n  var SQRT_3 = Math.sqrt(3);\n  var NEG_SQRT_1_3 = -1 / Math.sqrt(3);\n  var DBL_SQRT_2_3 = 2 * Math.sqrt(2 / 3);\n  pushPositions(\n    0, 0, SQRT_3 + NEG_SQRT_1_3,\n    -1, 0, NEG_SQRT_1_3,\n    1, 0, NEG_SQRT_1_3,\n    0, DBL_SQRT_2_3, 0\n  );\n  scalePositions(data.radius / 2);\n  return positions;\n}\nmodule.exports.getPyramidPositions = getPyramidPositions;\n\n/**\n * Return the item index in a given list to calculate offsets from\n *\n * @param {string} align - One of `'start'`, `'center'`, `'end'`\n * @param {integer} numItems - Total number of items\n */\nfunction getOffsetItemIndex (align, numItems) {\n  switch (align) {\n    case 'start':\n      return numItems - 1;\n    case 'center':\n      return (numItems - 1) / 2;\n    case 'end':\n      return 0;\n  }\n}\n\n/**\n * Multiply all coordinates by a scale factor and add translate.\n *\n * @params {array} positions - Array of coordinates in array form.\n * @returns {array} positions\n */\nfunction scalePositions (scale) {\n  var i;\n  for (i = 0; i < positions.length; i++) {\n    positions[i] = positions[i] * scale;\n  }\n};\n\n/**\n * Set position on child entities.\n *\n * @param {array} els - Child entities to set.\n * @param {array} positions - Array of coordinates.\n */\nfunction setPositions (els, positions, orderAttribute) {\n  var value;\n  var i;\n  var orderIndex;\n\n  // Allow for controlling order explicitly since DOM order does not have as much\n  // meaning in A-Frame.\n  if (orderAttribute) {\n    for (i = 0; i < els.length; i++) {\n      value = els[i].getAttribute(orderAttribute);\n      if (value === null || value === undefined) { continue; }\n      orderIndex = parseInt(value, 10) * 3;\n      els[i].object3D.position.set(positions[orderIndex], positions[orderIndex + 1],\n                                   positions[orderIndex + 2]);\n    }\n    return;\n  }\n\n  for (i = 0; i < positions.length; i += 3) {\n    if (!els[i / 3]) { return; }\n    els[i / 3].object3D.position.set(positions[i], positions[i + 1], positions[i + 2]);\n  }\n}\n\nfunction pushPositions () {\n  var i;\n  for (i = 0; i < arguments.length; i++) {\n    positions.push(i);\n  }\n}\n\nfunction pushPositionVec3 (vec3) {\n  positions.push(vec3.x);\n  positions.push(vec3.y);\n  positions.push(vec3.z);\n}\n","/* global AFRAME */\nvar KEYBOARDS = require('./keyboards');\n\nif (typeof AFRAME === 'undefined') {\n  throw new Error('Component attempted to register before AFRAME was available.');\n}\n\nvar FontFactors = {\n  roboto: 17,\n  aileronsemibold: 20,\n  dejavu: 20.5,\n  exo2bold: 20,\n  exo2semibold: 20.3,\n  kelsonsans: 22.8,\n  monoid: 19.5,\n  mozillavr: 9.5,\n  sourcecodepro: 20.3\n};\n\nAFRAME.registerComponent('super-keyboard', {\n  schema: {\n    align: {default: 'left', oneOf: ['left', 'center', 'right']},\n    blinkingSpeed: {type: 'int', default: 400},\n    filters: {type: 'array'},\n    // roboto aileronsemibold dejavu exo2bold exo2semibold kelsonsans monoid sourcecodepro\n    font: {default: 'aileronsemibold'},\n    hand: {type: 'selector'},\n    imagePath: {default: '.'},\n    injectToRaycasterObjects: {default: true},\n    inputColor: {type: 'color', default: '#6699ff'},\n    interval: {type: 'int', default: 50},\n    keyBgColor: {type: 'color', default: '#000'},\n    keyColor: {type: 'color', default: '#6699ff'},\n    keyHoverColor: {type: 'color', default: '#1A407F'},\n    keyPressColor: {type: 'color', default: '#5290F6'},\n    label: {type: 'string', default: ''},\n    labelColor: {type: 'color', default: '#aaa'},\n    maxLength: {type: 'int', default: 0},\n    model: {default: 'basic'},\n    show: {default: true},\n    value: {type: 'string', default: ''},\n    width: {default: 0.8}\n  },\n\n  init: function () {\n    this.el.addEventListener('click', this.click.bind(this));\n    this.changeEventDetail = {};\n    this.textInputObject = {};\n\n    this.keys = null;\n    this.focused = false;\n    this.keyHover = null;\n    this.prevCheckTime = null;\n    this.shift = false;\n\n    this.rawValue = this.data.value;\n    this.defaultValue = this.data.value;\n\n    this.userFilterFunc = null;\n    this.intervalId = 0;\n\n    // Create keyboard image.\n    this.kbImg = document.createElement('a-entity');\n    this.kbImg.classList.add('keyboardRaycastable');\n    this.kbImg.classList.add('superKeyboardImage');\n    this.kbImg.addEventListener('raycaster-intersected', this.hover.bind(this));\n    this.kbImg.addEventListener('raycaster-intersected-cleared', this.blur.bind(this));\n    this.el.appendChild(this.kbImg);\n\n    // Create label.\n    this.label = document.createElement('a-entity');\n    this.label.setAttribute('text', {\n      align: 'center',\n      font: this.data.font,\n      baseline: 'bottom',\n      lineHeight: 40,\n      value: this.data.label,\n      color: this.data.labelColor,\n      width: this.data.width,\n      wrapCount: 30});\n    this.el.appendChild(this.label);\n\n    // Create input.\n    this.textInput = document.createElement('a-entity');\n    this.textInput.setAttribute('text', {\n      align: this.data.align,\n      font: this.data.font,\n      value: this.data.value,\n      color: this.data.inputColor,\n      width: this.data.width,\n      wrapCount: 20\n    });\n    this.el.appendChild(this.textInput);\n\n    this.cursor = document.createElement('a-entity');\n    this.cursor.object3D.position.set(0, 0, 0.001);\n    this.cursor.setAttribute('material', {shader: 'flat', color: this.data.inputColor});\n    this.textInput.appendChild(this.cursor);\n    this.cursorUpdated = false;\n\n    this.keyBgColor = new THREE.Color();\n    this.keyHoverColor = new THREE.Color();\n    this.keyPressColor = new THREE.Color();\n\n    var self = this;\n    document.addEventListener('keydown', function (ev) {\n      if (ev.key === 't') {\n        var ss = '';\n        var s = 'abcdefghijklmopqrstuvQWIEUTGASDLIGKBXACQWETL102394676457';\n        var l = Math.floor(Math.random() * 20);\n        for (var i = 0; i < l; i++) ss += s[Math.floor(Math.random() * s.length)];\n        self.el.setAttribute('super-keyboard', {value: ss});\n      }\n    });\n\n    document.addEventListener('show', this.open.bind(this));\n\n    this.hand = null;\n    this.handListenersSet = false;\n    this.raycaster = null;\n  },\n\n  update: function (oldData) {\n    var kbdata = KEYBOARDS[this.data.model];\n    var w = this.data.width;\n    var h = this.data.width / 2;\n    var w2 = w / 2;\n    var h2 = h / 2;\n\n    if (kbdata === undefined) {\n      console.error('super-keyboard ERROR: model \"' + this.data.model + '\" undefined.');\n      return;\n    }\n\n    if (!oldData || this.defaultValue !== oldData.defaultValue) {\n      this.rawValue = this.data.value;\n      this.defaultValue = this.data.value;\n      this.updateTextInput(this.filter(this.data.value));\n    } else {\n      this.updateTextInput(this.filter(this.rawValue));\n    }\n\n    if (this.data.width !== oldData.width ||\n        this.data.height !== oldData.height ||\n        this.data.keyColor !== oldData.keyColor) {\n      this.kbImg.setAttribute('geometry', {primitive: 'plane', width: w, height: h});\n      this.kbImg.setAttribute('material', {\n        shader: 'flat',\n        src: this.data.imagePath + '/' + kbdata.img,\n        color: this.data.keyColor,\n        transparent: true\n      });\n    }\n\n    if (this.data.label !== oldData.label ||\n        this.data.labelColor !== oldData.labelColor ||\n        this.data.width !== oldData.width) {\n      this.label.setAttribute('text', {\n        value: this.data.label, color: this.data.labelColor, width: this.data.width});\n      this.label.object3D.position.set(0, 0.3 * w, -0.02);\n    }\n\n    if (this.data.width !== oldData.width ||\n        this.data.keyBgColor !== oldData.keyBgColor) {\n      this.initKeyColorPlane();\n    }\n\n    var inputx = this.data.align !== 'center' ? kbdata.inputOffsetX * w : 0;\n    if (this.data.align === 'right') { inputx *= -1; }\n\n    if (this.data.font !== oldData.font ||\n        this.data.inputColor !== oldData.inputColor ||\n        this.data.width !== oldData.width ||\n        this.data.align !== oldData.align) {\n      this.textInput.setAttribute('text', {\n        font: this.data.font,\n        color: this.data.inputColor,\n        width: w,\n        wrapCount: kbdata.wrapCount,\n        align: this.data.align\n      });\n    }\n\n    // Some hack where the inputRect is stored in the Insert key.\n    for (var i = 0; i < kbdata.layout.length; i++) {\n      var kdata = kbdata.layout[i];\n      if (kdata.key === 'Insert') {\n        this.inputRect = kdata;\n      }\n    }\n\n    this.textInput.object3D.position.set(\n      inputx,\n      (w / 4) - (this.inputRect.y + this.inputRect.h / 2) * w / 2 + kbdata.inputOffsetY * w,\n      0.002\n    );\n\n    if (this.data.width !== oldData.width) {\n      this.cursor.setAttribute('geometry', {\n        primitive: 'plane', width: 0.03 * w, height: 0.01 * w});\n    }\n\n    this.updateCursorPosition();\n    this.setupHand();\n\n    this.keyBgColor.set(this.data.keyBgColor);\n    this.keyHoverColor.set(this.data.keyHoverColor);\n    this.keyPressColor.set(this.data.keyPressColor);\n\n    if (this.data.show) {\n      this.open();\n    } else {\n      this.close();\n    }\n  },\n\n  tick: function (time) {\n    var intersection;\n\n    if (this.prevCheckTime && (time - this.prevCheckTime < this.data.interval)) { return; }\n    if (!this.prevCheckTime) {\n      this.prevCheckTime = time;\n      return;\n    }\n    if (!this.raycaster) { return; }\n    if (!this.focused) { return; }\n\n    intersection = this.raycaster.getIntersection(this.kbImg);\n    if (!intersection) { return; }\n\n    var uv = intersection.uv;\n    var keys = KEYBOARDS[this.data.model].layout;\n    for (var i = 0; i < keys.length; i++) {\n      var k = keys[i];\n      if (uv.x > k.x && uv.x < k.x + k.w && (1.0 - uv.y) > k.y && (1.0 - uv.y) < k.y + k.h) {\n        if (this.keyHover !== k) {\n          // Update key hover.\n          this.keyHover = k;\n          this.updateKeyColorPlane(this.keyHover.key, this.keyHoverColor);\n        }\n        break;\n      }\n    }\n  },\n\n  play: function () {\n    if (!this.cursorUpdated) { return; }\n    this.startBlinking();\n  },\n\n  pause: function () {\n    this.stopBlinking();\n  },\n\n  /**\n   * The plane for visual feedback when a key is hovered or clicked\n   */\n  initKeyColorPlane: function () {\n    var keyColorPlane = this.keyColorPlane = document.createElement('a-entity');\n    keyColorPlane.classList.add('superKeyboardKeyColorPlane');\n    keyColorPlane.object3D.position.z = 0.001;\n    keyColorPlane.object3D.visible = false;\n    keyColorPlane.setAttribute('geometry', {primitive: 'plane'});\n    keyColorPlane.setAttribute('material', {shader: 'flat', color: this.data.keyBgColor,\n                                            transparent: true});\n    keyColorPlane.addEventListener('componentinitialized', function (evt) {\n      if (evt.detail.name !== 'material') { return; }\n      this.getObject3D('mesh').material.blending = THREE.AdditiveBlending;\n    });\n    this.el.appendChild(keyColorPlane);\n  },\n\n  /**\n   * Move key color plane to appropriate position, scale, and change color.\n   */\n  updateKeyColorPlane: function (key, color) {\n    var kbdata = KEYBOARDS[this.data.model];\n    var keyColorPlane = this.keyColorPlane;\n\n    // Unset.\n    if (!key) {\n      keyColorPlane.object3D.visible = false;\n      return;\n    }\n\n    for (var i = 0; i < kbdata.layout.length; i++) {\n      var kdata = kbdata.layout[i];\n      if (kdata.key !== key) { continue; }\n      var w = this.data.width;\n      var h = this.data.width / 2;\n      var w2 = w / 2;\n      var h2 = h / 2;\n      var keyw = kdata.w * w;\n      var keyh = kdata.h * h;\n      // Size.\n      keyColorPlane.object3D.scale.x = keyw;\n      keyColorPlane.object3D.scale.y = keyh;\n      // Position.\n      keyColorPlane.object3D.position.x = kdata.x * w - w2 + keyw / 2;\n      keyColorPlane.object3D.position.y = (1 - kdata.y) * h - h2 - keyh / 2;\n      // Color.\n      keyColorPlane.getObject3D('mesh').material.color.copy(color);\n      break;\n    }\n    keyColorPlane.object3D.visible = true;\n  },\n\n  setupHand: function () {\n    if (this.hand && this.hand.ownRaycaster) {\n      this.hand.removeAttribute('raycaster');\n    }\n    if (this.data.hand) {\n      this.hand = this.data.hand;\n    } else {\n      this.hand = document.querySelector([\n        '[cursor]',\n        '[vive-controls]',\n        '[tracked-controls]',\n        '[oculus-touch-controls]',\n        '[windows-motion-controls]',\n        '[hand-controls]',\n        '[daydream-controls] [cursor] > [raycaster]'\n      ].join(','));\n    }\n\n    if (!this.hand) {\n      console.error('super-keyboard: no controller found. Add <a-entity> with controller or specify with super-keyboard=\"hand: #selectorToController\".');\n    } else {\n      if (!this.hand.hasLoaded) {\n        this.hand.addEventListener('loaded', this.setupHand.bind(this));\n        return;\n      }\n      var raycaster = this.hand.components['raycaster'];\n      var params = {};\n\n      if (!raycaster) {\n        this.hand.ownRaycaster = true;\n        params.showLine = this.data.show;\n        params.enabled = this.data.show;\n        if (this.data.injectToRaycasterObjects) {\n          params.objects = '.keyboardRaycastable';\n        }\n        this.hand.setAttribute('raycaster', params);\n      } else {\n        this.hand.ownRaycaster = false;\n        if (this.data.injectToRaycasterObjects) {\n          var objs = raycaster.data.objects.split(',');\n          if (objs.indexOf('.keyboardRaycastable') === -1) {\n            objs.push('.keyboardRaycastable');\n          }\n          params.objects = objs.join(',').replace(/^,/, '');\n          this.hand.setAttribute('raycaster', params);\n        }\n      }\n\n      this.raycaster = this.hand.components.raycaster;\n    }\n  },\n\n  filter: function (str) {\n    if (str === '') { return ''; }\n    for (var i = 0; i < this.data.filters.length; i++) {\n      switch (this.data.filters[i]) {\n        case 'custom': {\n          if (this.userFilterFunc) str = this.userFilterFunc(str);\n          break;\n        }\n        case 'allupper': {\n          str = str.toUpperCase();\n          break;\n        }\n        case 'alllower': {\n          str = str.toLowerCase();\n          break;\n        }\n        case 'title': {\n          str = str.split(' ').map(function (s) { return s[0].toUpperCase() + s.substr(1); }).join(' ');\n          break;\n        }\n        case 'numbers': {\n          str = str.split('').filter(function (c) { return !isNaN(parseInt(c)) || c === '.'; }).join('');\n          break;\n        }\n        case 'first': {\n          str = str[0].toUpperCase() + str.substr(1);\n          break;\n        }\n        case 'trim': {\n          str = str.trim();\n          break;\n        }\n      }\n    }\n    return this.data.maxLength > 0 ? str.substr(0, this.data.maxLength) : str;\n  },\n\n  click: function (ev) {\n    if (!this.keyHover) { return; }\n\n    switch (this.keyHover.key) {\n      case 'Enter': {\n        this.accept();\n        break;\n      }\n      case 'Insert': {\n        return;\n      }\n      case 'Delete': {\n        this.rawValue = this.rawValue.substr(0, this.rawValue.length - 1);\n        var newValue = this.filter(this.rawValue);\n        this.el.setAttribute('super-keyboard', 'value', newValue);\n        this.updateTextInput(newValue);\n        this.changeEventDetail.value = newValue;\n        this.el.emit('superkeyboardchange', this.changeEventDetail);\n        break;\n      }\n      case 'Shift': {\n        this.shift = !this.shift;\n        this.keyHover.el.setAttribute('material', 'color',\n          this.shift ? this.data.keyHoverColor : this.data.keyBgColor\n        );\n        break;\n      }\n      case 'Escape': {\n        this.dismiss();\n        break;\n      }\n      default: {\n        if (this.data.maxLength > 0 && this.rawValue.length > this.data.maxLength) { break; }\n        this.rawValue += this.shift ? this.keyHover.key.toUpperCase() : this.keyHover.key;\n        var newValue = this.filter(this.rawValue);\n        this.el.setAttribute('super-keyboard', 'value', newValue);\n        this.updateTextInput(newValue);\n        this.changeEventDetail.value = newValue;\n        this.el.emit('superkeyboardchange', this.changeEventDetail);\n        break;\n      }\n    }\n\n    this.updateKeyColorPlane(this.keyHover.key, this.keyPressColor);\n    var self = this;\n    setTimeout(function () {\n      self.updateKeyColorPlane(self.keyHover.key, self.keyHoverColor);\n    }, 100);\n    this.updateCursorPosition();\n  },\n\n  open: function () {\n    this.el.object3D.visible = true;\n    if (this.hand && this.hand.ownRaycaster) {\n      this.hand.setAttribute('raycaster', {showLine: true, enabled: true});\n    }\n  },\n\n  close: function () {\n    this.el.object3D.visible = false;\n    if (this.hand && this.hand.ownRaycaster) {\n      this.hand.setAttribute('raycaster', {showLine: false, enabled: false});\n    }\n  },\n\n  accept: function () {\n    this.el.object3D.visible = false;\n    if (this.hand && this.hand.ownRaycaster) {\n      this.hand.setAttribute('raycaster', {showLine: false, enabled: false});\n    }\n    this.el.emit('superkeyboardinput', {value: this.data.value});\n    this.data.show = false;\n  },\n\n  dismiss: function () {\n    this.data.value = this.defaultValue;\n    this.updateTextInput();\n    this.el.object3D.visible = false;\n    if (this.hand && this.hand.ownRaycaster) {\n      this.hand.setAttribute('raycaster', {showLine: false, enabled: false});\n    }\n    this.el.emit('superkeyboarddismiss');\n    this.data.show = false;\n  },\n\n  blur: function (ev) {\n    this.focused = false;\n    if (this.keyHover && this.keyHover.key !== 'Shift') {\n      this.updateKeyColorPlane(this.keyHover.key, this.keyBgColor);\n    }\n    this.keyHover = null;\n  },\n\n  hover: function (ev) {\n    this.focused = true;\n  },\n\n  startBlinking: function () {\n    this.stopBlinking();\n    this.intervalId = window.setInterval(this.blink.bind(this), this.data.blinkingSpeed);\n  },\n\n  stopBlinking: function () {\n    window.clearInterval(this.intervalId);\n    this.intervalId = 0;\n  },\n\n  blink: function () {\n    this.cursor.object3D.visible = !this.cursor.object3D.visible;\n  },\n\n  setCustomFilter: function (f) {\n    this.userFilterFunc = f;\n  },\n\n  addCustomModel: function (name, model) {\n    if (!name) { return; }\n    KEYBOARDS[name] = model;\n  },\n\n  updateCursorPosition: function () {\n    var font = this.textInput.components.text.currentFont;\n    if (!font) {\n      var self = this;\n      this.cursor.object3D.visible = false;\n      window.setTimeout(function () {\n        self.updateCursorPosition();\n        self.startBlinking();\n      }, 700);\n      return;\n    }\n\n    var w = this.data.width;\n    var kbdata = KEYBOARDS[this.data.model];\n    var posy = -this.inputRect.h / 2 * w / 2.4 + kbdata.inputOffsetY * w;\n    var ratio = this.data.width / this.textInput.components.text.data.wrapCount;\n    var pos = 0;\n    var fontFactor = FontFactors[this.textInput.components.text.data.font];\n    if (fontFactor === undefined) { fontFactor = 20; }\n    for (var i = 0; i < this.data.value.length; i++) {\n      var char = findFontChar(font.chars, this.data.value.charCodeAt(i));\n      pos += char.width + char.xadvance * (char.id === 32 ? 2 : 1);\n    }\n    if (this.data.align === 'center') {\n      pos = pos * ratio * fontFactor * 0.0011 / 2.0 + 0.02 * w;\n    } else if (this.data.align === 'left') {\n      pos = pos * ratio * fontFactor * 0.0011 + 0.02 * w;\n      pos -= w / 2;\n    } else if (this.data.align === 'right') {\n      pos = -pos * ratio * fontFactor * 0.0011 - 0.02 * w;\n      pos += w / 2;\n    }\n    this.cursor.object3D.position.set(pos, posy, 0.001);\n    this.cursorUpdated = true;\n  },\n\n  updateTextInput: function (value) {\n    this.textInputObject.value = value || this.data.value;\n    this.textInput.setAttribute('text', this.textInputObject);\n  }\n});\n\nfunction findFontChar (chars, code) {\n  for (var i = 0; i < chars.length; i++) {\n    if (chars[i].id === code) { return chars[i]; }\n  }\n  return null;\n}\n","module.exports = {\n  'basic': {wrapCount: 30, inputOffsetY: 0.008, inputOffsetX: 0.08, img: 'sk-basic.png', layout: [{'key': '1', 'x': 0.044, 'y': 0.226, 'w': 0.079, 'h': 0.152}, {'key': '2', 'x': 0.124, 'y': 0.226, 'w': 0.079, 'h': 0.152}, {'key': '3', 'x': 0.203, 'y': 0.226, 'w': 0.079, 'h': 0.152}, {'key': '4', 'x': 0.282, 'y': 0.226, 'w': 0.08, 'h': 0.152}, {'key': '5', 'x': 0.363, 'y': 0.226, 'w': 0.079, 'h': 0.152}, {'key': '6', 'x': 0.442, 'y': 0.226, 'w': 0.079, 'h': 0.152}, {'key': '7', 'x': 0.521, 'y': 0.226, 'w': 0.079, 'h': 0.152}, {'key': '8', 'x': 0.601, 'y': 0.226, 'w': 0.08, 'h': 0.152}, {'key': '9', 'x': 0.681, 'y': 0.226, 'w': 0.079, 'h': 0.152}, {'key': '0', 'x': 0.761, 'y': 0.226, 'w': 0.079, 'h': 0.152}, {'key': 'Delete', 'x': 0.846, 'y': 0.227, 'w': 0.108, 'h': 0.146}, {'key': 'Enter', 'x': 0.847, 'y': 0.526, 'w': 0.108, 'h': 0.244}, {'key': 'q', 'x': 0.044, 'y': 0.377, 'w': 0.079, 'h': 0.152}, {'key': 'w', 'x': 0.124, 'y': 0.377, 'w': 0.079, 'h': 0.152}, {'key': 'e', 'x': 0.203, 'y': 0.377, 'w': 0.079, 'h': 0.152}, {'key': 'r', 'x': 0.282, 'y': 0.377, 'w': 0.08, 'h': 0.152}, {'key': 't', 'x': 0.363, 'y': 0.377, 'w': 0.079, 'h': 0.152}, {'key': 'y', 'x': 0.442, 'y': 0.377, 'w': 0.079, 'h': 0.152}, {'key': 'u', 'x': 0.521, 'y': 0.377, 'w': 0.079, 'h': 0.152}, {'key': 'i', 'x': 0.601, 'y': 0.377, 'w': 0.08, 'h': 0.152}, {'key': 'o', 'x': 0.681, 'y': 0.377, 'w': 0.079, 'h': 0.152}, {'key': 'p', 'x': 0.761, 'y': 0.377, 'w': 0.079, 'h': 0.152}, {'key': 'l', 'x': 0.729, 'y': 0.53, 'w': 0.08, 'h': 0.154}, {'key': 'a', 'x': 0.092, 'y': 0.53, 'w': 0.08, 'h': 0.154}, {'key': 's', 'x': 0.171, 'y': 0.53, 'w': 0.08, 'h': 0.154}, {'key': 'd', 'x': 0.251, 'y': 0.53, 'w': 0.08, 'h': 0.154}, {'key': 'f', 'x': 0.331, 'y': 0.53, 'w': 0.079, 'h': 0.154}, {'key': 'g', 'x': 0.41, 'y': 0.53, 'w': 0.08, 'h': 0.154}, {'key': 'h', 'x': 0.49, 'y': 0.53, 'w': 0.079, 'h': 0.154}, {'key': 'j', 'x': 0.57, 'y': 0.53, 'w': 0.079, 'h': 0.154}, {'key': 'k', 'x': 0.649, 'y': 0.53, 'w': 0.08, 'h': 0.154}, {'key': 'z', 'x': 0.172, 'y': 0.684, 'w': 0.079, 'h': 0.154}, {'key': 'x', 'x': 0.251, 'y': 0.684, 'w': 0.08, 'h': 0.154}, {'key': 'c', 'x': 0.331, 'y': 0.684, 'w': 0.079, 'h': 0.154}, {'key': 'v', 'x': 0.41, 'y': 0.684, 'w': 0.08, 'h': 0.154}, {'key': 'b', 'x': 0.49, 'y': 0.684, 'w': 0.08, 'h': 0.154}, {'key': 'n', 'x': 0.57, 'y': 0.684, 'w': 0.079, 'h': 0.154}, {'key': 'm', 'x': 0.649, 'y': 0.684, 'w': 0.08, 'h': 0.154}, {'key': ' ', 'x': 0.27, 'y': 0.838, 'w': 0.415, 'h': 0.126}, {'key': 'Shift', 'x': 0.042, 'y': 0.827, 'w': 0.068, 'h': 0.142}, {'key': 'Escape', 'x': 0.876, 'y': 0.823, 'w': 0.078, 'h': 0.134}, {'key': 'Insert', 'x': 0.058, 'y': 0, 'w': 0.881, 'h': 0.149}]},\n  'numpad': {wrapCount: 20, inputOffsetY: 0.005, inputOffsetX: 0.32, img: 'sk-numpad.png', layout: [{'key': '7', 'x': 0.313, 'y': 0.254, 'w': 0.088, 'h': 0.177}, {'key': '8', 'x': 0.401, 'y': 0.254, 'w': 0.088, 'h': 0.177}, {'key': '9', 'x': 0.49, 'y': 0.254, 'w': 0.088, 'h': 0.177}, {'key': '4', 'x': 0.313, 'y': 0.431, 'w': 0.088, 'h': 0.177}, {'key': '5', 'x': 0.401, 'y': 0.431, 'w': 0.088, 'h': 0.177}, {'key': '6', 'x': 0.49, 'y': 0.431, 'w': 0.088, 'h': 0.177}, {'key': '2', 'x': 0.401, 'y': 0.608, 'w': 0.088, 'h': 0.177}, {'key': '1', 'x': 0.313, 'y': 0.608, 'w': 0.088, 'h': 0.177}, {'key': '3', 'x': 0.49, 'y': 0.608, 'w': 0.088, 'h': 0.177}, {'key': '0', 'x': 0.313, 'y': 0.785, 'w': 0.177, 'h': 0.161}, {'key': '.', 'x': 0.49, 'y': 0.785, 'w': 0.088, 'h': 0.161}, {'key': 'Escape', 'x': 0.578, 'y': 0.785, 'w': 0.105, 'h': 0.161}, {'key': 'Enter', 'x': 0.578, 'y': 0.431, 'w': 0.105, 'h': 0.354}, {'key': 'Delete', 'x': 0.578, 'y': 0.254, 'w': 0.105, 'h': 0.177}, {'key': 'Insert', 'x': 0.294, 'y': 0.001, 'w': 0.409, 'h': 0.19}]}\n};\n","/**\n * TextGeometry component for A-Frame.\n */\nvar debug = AFRAME.utils.debug;\n\nvar error = debug('aframe-text-component:error');\n\nvar fontLoader = new THREE.FontLoader();\n\nAFRAME.registerComponent('text-geometry', {\n  schema: {\n    bevelEnabled: {default: false},\n    bevelSize: {default: 8, min: 0},\n    bevelThickness: {default: 12, min: 0},\n    curveSegments: {default: 12, min: 0},\n    font: {type: 'asset', default: 'https://rawgit.com/ngokevin/kframe/master/components/text-geometry/lib/helvetiker_regular.typeface.json'},\n    height: {default: 0.05, min: 0},\n    size: {default: 0.5, min: 0},\n    style: {default: 'normal', oneOf: ['normal', 'italics']},\n    weight: {default: 'normal', oneOf: ['normal', 'bold']},\n    value: {default: ''}\n  },\n\n  /**\n   * Called when component is attached and when component data changes.\n   * Generally modifies the entity based on the data.\n   */\n  update: function (oldData) {\n    var data = this.data;\n    var el = this.el;\n\n    var mesh = el.getOrCreateObject3D('mesh', THREE.Mesh);\n    if (data.font.constructor === String) {\n      // Load typeface.json font.\n      fontLoader.load(data.font, function (response) {\n        var textData = AFRAME.utils.clone(data);\n        textData.font = response;\n        mesh.geometry = new THREE.TextGeometry(data.value, textData);\n      });\n    } else if (data.font.constructor === Object) {\n      // Set font if already have a typeface.json through setAttribute.\n      mesh.geometry = new THREE.TextGeometry(data.value, data);\n    } else {\n      error('Must provide `font` (typeface.json) or `fontPath` (string) to text component.');\n    }\n  }\n});\n"],"sourceRoot":""}