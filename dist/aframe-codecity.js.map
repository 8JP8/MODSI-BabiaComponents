{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/city.js"],"names":["AFRAME","Error","registerComponent","schema","repository","type","default","token","folder","multiple","init","request","XMLHttpRequest","open","onload","status","resolve","xhr","response","reject","statusText","onerror","send","update","newData","data","dataPoints","loader","load","onDataLoaded","bind","generateTotem","el","remove","pause","play","file","JSON","parse","e","properties","element","startAxisGeneration","popUp","show_popup_condition","show_popup_info","pie_doughnut","show_legend_condition","show_legend_info","legend_title","legend_sel_text","legend_all_text","legend_properties","length","getLegendProperties","generateLegendTitle","generateLegendSelText","generateLegendAllText","getLegendText","appendChild","pie_angle_start","pie_angle_end","pie_total_value","point","entity","generateBar","generateCylinder","generateDoughnutSlice","pie_radius","generateSlice","generateBubble","addEventListener","setAttribute","x","y","z","generatePopUp","removeChild","getPosition","position","attributes","myPos","value","split","getRotation","rotation","correction","text","width","document","createElement","height","max_width_text","show_legend_title","point_text","chart_position","position_tit","show_legend_position","position_sel_text","position_all_text","chart_rotation","show_legend_rotation","title","auxDataPoints","slice","index","indexOf","splice","i","legendProperties","theta_start","theta_length","radius","position_start","arc","generateBuilding","removeAllChildren","children","forEach","child","generateTotemTitle","generateTotemSlice","entity_id_list","dataPoints_path","name","console","log","entity_list","id","querySelector","components","charts","getChildEntities","getTotemWidth","dataPoints_list","max_width","offset","dataProperties","parseInt","axis_visible","axis_length","adaptive_props","getAdaptiveAxisProperties","max","axis_negative","has_negative","axis_grid","axis_grid_3D","generateGridAxis","generateAxis","axis_position","axis_color","tick_separation","axis_tick_separation","tick_length","axis_tick_length","tick_color","axis_tick_color","axis_negative_offset","axis_text","axis_text_color","axis_text_size","axis","line_end","line_start","axis_line","tick","tick_start","tick_end","Math","round","axis_negative_limit","grid_start","grid_end","grid","sub_grid_start","sub_grid_end","point_x","abs","point_y","point_z"],"mappings":"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","file":"aframe-codecity.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/city.js\");\n","/* global AFRAME */\nif (typeof AFRAME === 'undefined') {\n  throw new Error('Component attempted to register before AFRAME was available.');\n}\n\n/**\n* A-Charts component for A-Frame.\n*/\nAFRAME.registerComponent('charts', {\n  schema: {\n    repository: { type: 'string', default: 'https://github.com/dlumbrer/VBoard' },\n    token: { type: 'string' },\n    folder: { type: 'string' }\n  },\n\n  /**\n  * Set if component needs multiple instancing.\n  */\n  multiple: false,\n\n  /**\n  * Called once when component is attached. Generally for initial setup.\n  */\n  init: function () {\n    //this.loader = new THREE.FileLoader();\n    // Create a new request object\n    let request = new XMLHttpRequest();\n\n    // Initialize a request\n    request.open('get', 'https://api.github.com/repos/dlumbrer/VBoard/git/trees/integration-aframedc?recursive=1')\n    // Send it\n    request.onload = function () {\n      if (this.status >= 200 && this.status < 300) {\n        resolve(xhr.response);\n      } else {\n        reject({\n          status: this.status,\n          statusText: xhr.statusText\n        });\n      }\n    };\n    request.onerror = function () {\n      reject({\n        status: this.status,\n        statusText: xhr.statusText\n      });\n    };\n    request.send();\n  },\n\n  /**\n  * Called when component is attached and when component data changes.\n  * Generally modifies the entity based on the data.\n  */\n\n  update: function (newData) {\n    const data = this.data;\n    if (newData != null && newData.dataPoints) {\n      this.loader.load(newData.dataPoints, this.onDataLoaded.bind(this));\n    } else if (data.dataPoints) {\n      this.loader.load(data.dataPoints, this.onDataLoaded.bind(this));\n    } else if (data.type === \"totem\") {\n      generateTotem(data, this.el);\n    }\n  },\n  /**\n  * Called when a component is removed (e.g., via removeAttribute).\n  * Generally undoes all modifications to the entity.\n  */\n  remove: function () { },\n\n  /**\n  * Called on each scene tick.\n  */\n  // tick: function (t) { },\n\n  /**\n  * Called when entity pauses.\n  * Use to stop or remove any dynamic or background behavior such as events.\n  */\n  pause: function () { },\n\n  /**\n  * Called when entity resumes.\n  * Use to continue or add any dynamic or background behavior such as events.\n  */\n  play: function () { },\n\n  onDataLoaded: function (file) {\n    let dataPoints;\n    try {\n      dataPoints = JSON.parse(file);\n    } catch (e) {\n      throw new Error('Can\\'t parse JSON file. Maybe is not a valid JSON file');\n    }\n\n    const properties = this.data;\n    let element = this.el;\n\n    startAxisGeneration(element, properties, dataPoints);\n\n    // Legend and pop Up\n    let popUp;\n    let show_popup_condition = properties.show_popup_info && properties.type !== \"pie\" && !properties.pie_doughnut;\n    let show_legend_condition = properties.show_legend_info;\n    let legend_title;\n    let legend_sel_text;\n    let legend_all_text;\n    let legend_properties;\n\n    if (show_legend_condition && dataPoints.length > 0) {\n      legend_properties = getLegendProperties(dataPoints, properties, element);\n      legend_title = generateLegendTitle(legend_properties);\n      legend_sel_text = generateLegendSelText(legend_properties, dataPoints[0], properties);\n      legend_all_text = generateLegendAllText(legend_properties, getLegendText(dataPoints, dataPoints[0], properties));\n      element.appendChild(legend_title);\n      element.appendChild(legend_sel_text);\n      element.appendChild(legend_all_text);\n    }\n\n    // Properties for Pie Chart\n    let pie_angle_start = 0;\n    let pie_angle_end = 0;\n    let pie_total_value = 0;\n\n    if (properties.type === \"pie\") {\n      for (let point of dataPoints) {\n        pie_total_value += point['size'];\n      }\n    }\n\n    //Chart generation\n    for (let point of dataPoints) {\n      let entity;\n      if (properties.type === \"bar\") {\n        entity = generateBar(point);\n      } else if (properties.type === \"cylinder\") {\n        entity = generateCylinder(point);\n      } else if (properties.type === \"pie\") {\n        pie_angle_end = 360 * point['size'] / pie_total_value;\n        if (properties.pie_doughnut) {\n          entity = generateDoughnutSlice(point, pie_angle_start, pie_angle_end, properties.pie_radius);\n        } else {\n          entity = generateSlice(point, pie_angle_start, pie_angle_end, properties.pie_radius);\n        }\n        pie_angle_start += pie_angle_end;\n      } else {\n        entity = generateBubble(point);\n      }\n\n      entity.addEventListener('mouseenter', function () {\n        this.setAttribute('scale', { x: 1.3, y: 1.3, z: 1.3 });\n        if (show_popup_condition) {\n          popUp = generatePopUp(point, properties);\n          element.appendChild(popUp);\n        }\n        if (!show_legend_condition)\n          return;\n        element.removeChild(legend_sel_text);\n        element.removeChild(legend_all_text);\n        legend_sel_text = generateLegendSelText(legend_properties, point, properties);\n        legend_all_text = generateLegendAllText(legend_properties, getLegendText(dataPoints, point, properties));\n        element.appendChild(legend_sel_text);\n        element.appendChild(legend_all_text);\n      });\n\n      entity.addEventListener('mouseleave', function () {\n        this.setAttribute('scale', { x: 1, y: 1, z: 1 });\n        if (show_popup_condition) {\n          element.removeChild(popUp);\n        }\n      });\n\n      element.appendChild(entity);\n    }\n  }\n});\n\nfunction getPosition(element) {\n  let position = { x: 0, y: 0, z: 0 };\n  if (element.attributes.position == null)\n    return position;\n\n  let myPos = element.attributes.position.value.split(\" \");\n  if (myPos[0] !== \"\" && myPos[0] != null)\n    position['x'] = myPos[0];\n  if (myPos[1] !== \"\" && myPos[1] != null)\n    position['y'] = myPos[1];\n  if (myPos[2] !== \"\" && myPos[2] != null)\n    position['z'] = myPos[2];\n  return position;\n}\n\nfunction getRotation(element) {\n  let rotation = { x: 0, y: 0, z: 0 };\n  if (element.attributes.rotation == null)\n    return rotation;\n  let myPos = element.attributes.rotation.value.split(\" \");\n  if (myPos[0] !== \"\" && myPos[0] != null)\n    rotation['x'] = myPos[0];\n  if (myPos[1] !== \"\" && myPos[1] != null)\n    rotation['y'] = myPos[1];\n  if (myPos[2] !== \"\" && myPos[2] != null)\n    rotation['z'] = myPos[2];\n  return rotation;\n}\n\nfunction generatePopUp(point, properties) {\n  let correction = 0;\n  if (properties.type === \"bar\" || properties.type === \"cylinder\")\n    correction = point['size'] / 2;\n\n  let text = point['label'] + ': ' + point['y'];\n\n  let width = 2;\n  if (text.length > 16)\n    width = text.length / 8;\n\n  let entity = document.createElement('a-plane');\n  entity.setAttribute('position', { x: point['x'] + correction, y: point['y'] + 3, z: point['z'] });\n  entity.setAttribute('height', '2');\n  entity.setAttribute('width', width);\n  entity.setAttribute('color', 'white');\n  entity.setAttribute('text', {\n    'value': 'DataPoint:\\n\\n' + text,\n    'align': 'center',\n    'width': 6,\n    'color': 'black'\n  });\n  entity.setAttribute('light', {\n    'intensity': 0.3\n  });\n  return entity;\n}\n\nfunction getLegendProperties(dataPoints, properties, element) {\n  let height = 2;\n  if (dataPoints.length - 1 > 6)\n    height = (dataPoints.length - 1) / 3;\n\n  let max_width_text = properties.show_legend_title.length;\n  for (let point of dataPoints) {\n    let point_text = point['label'] + ': ';\n    if (properties.type === 'pie') {\n      point_text += point['size'];\n    } else {\n      point_text += point['y'];\n    }\n    if (point_text.length > max_width_text)\n      max_width_text = point_text.length;\n  }\n\n  let width = 2;\n  if (max_width_text > 9)\n    width = max_width_text / 4.4;\n\n  let chart_position = getPosition(element);\n  let position_tit = { x: properties.show_legend_position.x - chart_position.x, y: properties.show_legend_position.y - chart_position.y + (height / 2) + 0.5, z: properties.show_legend_position.z - chart_position.z };\n  let position_sel_text = { x: properties.show_legend_position.x - chart_position.x, y: properties.show_legend_position.y - chart_position.y + (height / 2), z: properties.show_legend_position.z - chart_position.z };\n  let position_all_text = { x: properties.show_legend_position.x - chart_position.x, y: properties.show_legend_position.y - chart_position.y, z: properties.show_legend_position.z - chart_position.z };\n\n  let chart_rotation = getRotation(element);\n  let rotation = { x: properties.show_legend_rotation.x - chart_rotation.x, y: properties.show_legend_rotation.y - chart_rotation.y, z: properties.show_legend_rotation.z - chart_rotation.z };\n\n  return { height: height, width: width, title: properties.show_legend_title, rotation: rotation, position_tit: position_tit, position_sel_text: position_sel_text, position_all_text: position_all_text }\n}\n\nfunction getLegendText(dataPoints, point, properties) {\n  let text = \"\";\n\n  let auxDataPoints = dataPoints.slice();\n  let index = auxDataPoints.indexOf(point);\n  auxDataPoints.splice(index, 1);\n\n  for (let i = 0; i < auxDataPoints.length; i++) {\n    if (properties.type === 'pie') {\n      text += auxDataPoints[i]['label'] + ': ' + auxDataPoints[i]['size'];\n    } else {\n      text += auxDataPoints[i]['label'] + ': ' + auxDataPoints[i]['y'];\n    }\n    if (i !== auxDataPoints.length - 1)\n      text += \"\\n\";\n  }\n\n  return text;\n}\n\nfunction generateLegendTitle(legendProperties) {\n  let entity = document.createElement('a-plane');\n  entity.setAttribute('position', legendProperties.position_tit);\n  entity.setAttribute('rotation', legendProperties.rotation);\n  entity.setAttribute('height', '0.5');\n  entity.setAttribute('width', legendProperties.width);\n  entity.setAttribute('color', 'white');\n  entity.setAttribute('text__title', {\n    'value': legendProperties.title,\n    'align': 'center',\n    'width': '8',\n    'color': 'black'\n  });\n  return entity;\n}\n\nfunction generateLegendSelText(legendProperties, point, properties) {\n  let value = \"\";\n  if (properties.type === 'pie') {\n    value = point['size'];\n  } else {\n    value = point['y'];\n  }\n\n  let entity = document.createElement('a-plane');\n  entity.setAttribute('position', legendProperties.position_sel_text);\n  entity.setAttribute('rotation', legendProperties.rotation);\n  entity.setAttribute('height', '0.5');\n  entity.setAttribute('width', legendProperties.width);\n  entity.setAttribute('color', 'white');\n  entity.setAttribute('text__title', {\n    'value': point['label'] + ': ' + value,\n    'align': 'center',\n    'width': '7',\n    'color': point['color']\n  });\n  entity.setAttribute('light', {\n    'intensity': '0.3'\n  });\n  return entity;\n}\n\nfunction generateLegendAllText(legendProperties, text) {\n  let entity = document.createElement('a-plane');\n  entity.setAttribute('position', legendProperties.position_all_text);\n  entity.setAttribute('rotation', legendProperties.rotation);\n  entity.setAttribute('height', legendProperties.height);\n  entity.setAttribute('width', legendProperties.width);\n  entity.setAttribute('color', 'white');\n  entity.setAttribute('text__title', {\n    'value': text,\n    'align': 'center',\n    'width': '6',\n    'color': 'black'\n  });\n  entity.setAttribute('light', {\n    'intensity': '0.3'\n  });\n  return entity;\n}\n\nfunction generateSlice(point, theta_start, theta_length, radius) {\n  let entity = document.createElement('a-cylinder');\n  entity.setAttribute('color', point['color']);\n  entity.setAttribute('theta-start', theta_start);\n  entity.setAttribute('theta-length', theta_length);\n  entity.setAttribute('side', 'double');\n  entity.setAttribute('radius', radius);\n  return entity;\n}\n\nfunction generateDoughnutSlice(point, position_start, arc, radius) {\n  let entity = document.createElement('a-torus');\n  entity.setAttribute('color', point['color']);\n  entity.setAttribute('rotation', { x: 90, y: 0, z: position_start });\n  entity.setAttribute('arc', arc);\n  entity.setAttribute('side', 'double');\n  entity.setAttribute('radius', radius);\n  entity.setAttribute('radius-tubular', radius / 4);\n  return entity;\n}\n\nfunction generateBubble(point) {\n  let entity = document.createElement('a-sphere');\n  entity.setAttribute('position', { x: point['x'], y: point['y'], z: point['z'] });\n  entity.setAttribute('color', point['color']);\n  entity.setAttribute('radius', point['size']);\n  return entity;\n}\n\nfunction generateBuilding(point) {\n  let entity = document.createElement('a-box');\n  entity.setAttribute('position', { x: point['x'] + point['size'] / 2, y: point['y'] / 2, z: point['z'] }); //centering graph\n  entity.setAttribute('color', point['color']);\n  entity.setAttribute('height', point['y']);\n  entity.setAttribute('depth', point['size']);\n  entity.setAttribute('width', point['size']);\n  return entity;\n}\n\nfunction generateBar(point) {\n  let entity = document.createElement('a-box');\n  entity.setAttribute('position', { x: point['x'] + point['size'] / 2, y: point['y'] / 2, z: point['z'] }); //centering graph\n  entity.setAttribute('color', point['color']);\n  entity.setAttribute('height', point['y']);\n  entity.setAttribute('depth', point['size']);\n  entity.setAttribute('width', point['size']);\n  return entity;\n}\n\nfunction generateCylinder(point) {\n  let entity = document.createElement('a-cylinder');\n  entity.setAttribute('position', { x: point['x'] + point['size'] / 2, y: point['y'] / 2, z: point['z'] }); //centering graph\n  entity.setAttribute('color', point['color']);\n  entity.setAttribute('height', point['y']);\n  entity.setAttribute('radius', point['size'] / 2);\n  return entity;\n}\n\nlet removeAllChildren = function (element, children) {\n  children.forEach(function (child) {\n    element.el.removeChild(child);\n  });\n};\n\nfunction generateTotemTitle(width, position) {\n  let entity = document.createElement('a-plane');\n  entity.setAttribute('position', position);\n  entity.setAttribute('scale', { x: 1, y: 1, z: 0.01 });\n  entity.setAttribute('height', '0.5');\n  entity.setAttribute('color', 'blue');\n  entity.setAttribute('width', width);\n  entity.setAttribute('text__title', {\n    'value': 'Select dataSource:',\n    'align': 'center',\n    'width': '9',\n    'color': 'white'\n  });\n  return entity;\n}\n\nfunction generateTotemSlice(properties, entity_id_list, dataPoints_path) {\n  let entity = document.createElement('a-plane');\n  entity.setAttribute('position', properties.position);\n  entity.setAttribute('scale', { x: 1, y: 1, z: 0.01 });\n  entity.setAttribute('height', '0.5');\n  entity.setAttribute('width', properties.width);\n  entity.setAttribute('text__title', {\n    'value': properties.name,\n    'align': 'center',\n    'width': '8',\n    'color': 'black'\n  });\n\n  entity.addEventListener('click', function () {\n    console.log(dataPoints_path);\n    let entity_list = entity_id_list.split(',');\n    for (let id of entity_list) {\n      let el = document.querySelector('#' + id).components.charts;\n      removeAllChildren(el, el.el.getChildEntities());\n      el.update({ dataPoints: dataPoints_path });\n    }\n  });\n  return entity;\n}\n\nfunction getTotemWidth(dataPoints_list) {\n  let max_width = 0;\n  for (let dataPoints of dataPoints_list) {\n    let name = dataPoints.split('/')[dataPoints.split('/').length - 1];\n    if (name.length > max_width)\n      max_width = name.length;\n  }\n\n  let width = 2;\n  if (max_width > 9)\n    width = max_width / 4.4;\n  return width;\n}\n\nfunction generateTotem(properties, element) {\n  if (properties.dataPoints_list === '')\n    return;\n\n  let dataPoints_list = properties.dataPoints_list.split(',');\n  let position = getPosition(element);\n  let width = getTotemWidth(dataPoints_list);\n  element.appendChild(generateTotemTitle(width, position));\n  let offset = 0.75;\n  for (let dataPoints of dataPoints_list) {\n    let dataProperties = {};\n    dataProperties['position'] = { x: position.x, y: parseInt(position.y) - offset, z: position.z };\n    dataProperties['name'] = dataPoints.split('/')[dataPoints.split('/').length - 1];\n    dataProperties['width'] = width;\n    element.appendChild(generateTotemSlice(dataProperties, properties.entity_id_list, dataPoints));\n    offset += 0.65;\n  }\n\n}\n\nfunction startAxisGeneration(element, properties, dataPoints) {\n  if (!properties.axis_visible || properties.type === \"pie\")\n    return;\n\n  if (properties.axis_length === 0) {\n    let adaptive_props = getAdaptiveAxisProperties(dataPoints);\n    properties.axis_length = adaptive_props.max;\n    if (properties.axis_negative)\n      properties.axis_negative = adaptive_props.has_negative;\n  }\n\n  if (properties.axis_grid || properties.axis_grid_3D) {\n    generateGridAxis(element, properties);\n  } else {\n    generateAxis(element, properties);\n  }\n}\n\nfunction generateAxis(element, properties) {\n  let axis_length = properties.axis_length;\n  let axis_position = properties.axis_position;\n  let axis_color = properties.axis_color;\n\n  let tick_separation = properties.axis_tick_separation;\n  let tick_length = properties.axis_tick_length;\n  let tick_color = properties.axis_tick_color;\n\n  let axis_negative = properties.axis_negative;\n  let axis_negative_offset = 0;\n\n  let axis_text = properties.axis_text;\n  let axis_text_color = properties.axis_text_color;\n  let axis_text_size = properties.axis_text_size;\n\n  for (let axis of ['x', 'y', 'z']) {\n\n    let line_end = { x: axis_position.x, y: axis_position.y, z: axis_position.z };\n    line_end[axis] = axis_length + axis_position[axis];\n\n    let line_start = { x: axis_position.x, y: axis_position.y, z: axis_position.z };\n\n    if (axis_negative) {\n      axis_negative_offset = axis_length + 1;\n      line_start[axis] = -axis_length + axis_position[axis];\n    }\n\n    let axis_line = document.createElement('a-entity');\n    axis_line.setAttribute('line__' + axis, {\n      'start': line_start,\n      'end': line_end,\n      'color': axis_color\n    });\n\n\n    for (let tick = tick_separation - axis_negative_offset; tick <= axis_length; tick += tick_separation) {\n      let tick_start;\n      let tick_end;\n\n      if (axis === 'x') {\n        tick_start = { x: axis_position.x + tick, y: axis_position.y - tick_length, z: axis_position.z };\n        tick_end = { x: axis_position.x + tick, y: axis_position.y + tick_length, z: axis_position.z };\n      } else if (axis === 'y') {\n        tick_start = { x: axis_position.x, y: axis_position.y + tick, z: axis_position.z - tick_length };\n        tick_end = { x: axis_position.x, y: axis_position.y + tick, z: axis_position.z + tick_length };\n      } else {\n        tick_start = { x: axis_position.x - tick_length, y: axis_position.y, z: axis_position.z + tick };\n        tick_end = { x: axis_position.x + tick_length, y: axis_position.y, z: axis_position.z + tick };\n      }\n\n      axis_line.setAttribute('line__' + tick, {\n        'start': tick_start,\n        'end': tick_end,\n        'color': tick_color\n      });\n\n\n      if (axis_text) {\n        let axis_text = document.createElement('a-text');\n        axis_text.setAttribute('position', tick_start);\n\n        if (axis === 'x') {\n          axis_text.setAttribute('text__' + tick, {\n            'value': Math.round(tick * 100) / 100,\n            'width': axis_text_size,\n            'color': axis_text_color,\n            'xOffset': 5\n          });\n        } else if (axis === 'y') {\n          axis_text.setAttribute('text__' + tick, {\n            'value': Math.round(tick * 100) / 100,\n            'width': axis_text_size,\n            'color': axis_text_color,\n            'xOffset': 4\n          });\n        } else {\n          axis_text.setAttribute('text__' + tick, {\n            'value': Math.round(tick * 100) / 100,\n            'width': axis_text_size,\n            'color': axis_text_color,\n            'xOffset': 4.5\n          });\n        }\n\n        element.appendChild(axis_text);\n      }\n\n    }\n    element.appendChild(axis_line);\n  }\n}\n\nfunction generateGridAxis(element, properties) {\n  let axis_length = properties.axis_length;\n  let axis_position = properties.axis_position;\n  let axis_color = properties.axis_color;\n\n  let axis_negative = properties.axis_negative;\n  let axis_negative_offset = 0;\n  let axis_negative_limit = 0;\n  let axis_grid_3D = properties.axis_grid_3D;\n\n  let axis_text = properties.axis_text;\n  let axis_text_color = properties.axis_text_color;\n  let axis_text_size = properties.axis_text_size;\n\n  for (let axis of ['x', 'y', 'z']) {\n\n    let line_end = { x: axis_position.x, y: axis_position.y, z: axis_position.z };\n    line_end[axis] = axis_length + axis_position[axis];\n\n    let line_start = { x: axis_position.x, y: axis_position.y, z: axis_position.z };\n\n    if (axis_negative) {\n      axis_negative_offset = axis_length;\n      axis_negative_limit = axis_length + 1;\n      line_start[axis] = - axis_length + axis_position[axis];\n    }\n\n    let axis_line = document.createElement('a-entity');\n    axis_line.setAttribute('line__' + axis, {\n      'start': line_start,\n      'end': line_end,\n      'color': axis_color\n    });\n\n    for (let tick = 1 - axis_negative_limit; tick <= axis_length; tick++) {\n      let tick_start;\n      let tick_end;\n      let grid_start;\n      let grid_end;\n\n      if (axis === 'x') {\n        tick_start = { x: axis_position.x + tick, y: axis_position.y - axis_negative_offset, z: axis_position.z };\n        tick_end = { x: axis_position.x + tick, y: axis_position.y + axis_length, z: axis_position.z };\n        grid_start = { x: axis_position.x + tick, y: axis_position.y, z: axis_position.z - axis_negative_offset };\n        grid_end = { x: axis_position.x + tick, y: axis_position.y, z: axis_position.z + axis_length };\n      } else if (axis === 'y') {\n        tick_start = { x: axis_position.x, y: axis_position.y + tick, z: axis_position.z - axis_negative_offset };\n        tick_end = { x: axis_position.x, y: axis_position.y + tick, z: axis_position.z + axis_length };\n        grid_start = { x: axis_position.x - axis_negative_offset, y: axis_position.y + tick, z: axis_position.z };\n        grid_end = { x: axis_position.x + axis_length, y: axis_position.y + tick, z: axis_position.z };\n      } else {\n        tick_start = { x: axis_position.x - axis_negative_offset, y: axis_position.y, z: axis_position.z + tick };\n        tick_end = { x: axis_position.x + axis_length, y: axis_position.y, z: axis_position.z + tick };\n        grid_start = { x: axis_position.x, y: axis_position.y - axis_negative_offset, z: axis_position.z + tick };\n        grid_end = { x: axis_position.x, y: axis_position.y + axis_length, z: axis_position.z + tick };\n      }\n\n      if (axis_text) {\n        let axis_text = document.createElement('a-text');\n        axis_text.setAttribute('position', tick_end);\n\n        if (axis === 'x') {\n          axis_text.setAttribute('text__' + tick, {\n            'value': Math.round(tick * 100) / 100,\n            'width': axis_text_size,\n            'color': axis_text_color,\n            'xOffset': 5\n          });\n        } else if (axis === 'y') {\n          axis_text.setAttribute('text__' + tick, {\n            'value': Math.round(tick * 100) / 100,\n            'width': axis_text_size,\n            'color': axis_text_color,\n            'xOffset': 4\n          });\n        } else {\n          axis_text.setAttribute('text__' + tick, {\n            'value': Math.round(tick * 100) / 100,\n            'width': axis_text_size,\n            'color': axis_text_color,\n            'xOffset': 4.5\n          });\n        }\n\n        element.appendChild(axis_text);\n      }\n\n      axis_line.setAttribute('line__' + tick, {\n        'start': tick_start,\n        'end': tick_end,\n        'color': axis_color\n      });\n\n      axis_line.setAttribute('line__' + tick + axis_length, {\n        'start': grid_start,\n        'end': grid_end,\n        'color': axis_color\n      });\n\n      if (!axis_grid_3D)\n        continue;\n      for (let grid = 1 - axis_negative_offset; grid <= axis_length; grid++) {\n        let sub_grid_start;\n        let sub_grid_end;\n\n        if (axis === 'x') {\n          sub_grid_start = { x: axis_position.x + tick, y: axis_position.y - axis_negative_offset, z: axis_position.z + grid };\n          sub_grid_end = { x: axis_position.x + tick, y: axis_position.y + axis_length, z: axis_position.z + grid };\n        } else if (axis === 'y') {\n          sub_grid_start = { x: axis_position.x + grid, y: axis_position.y + tick, z: axis_position.z - axis_negative_offset };\n          sub_grid_end = { x: axis_position.x + grid, y: axis_position.y + tick, z: axis_position.z + axis_length };\n        } else {\n          sub_grid_start = { x: axis_position.x - axis_negative_offset, y: axis_position.y + grid, z: axis_position.z + tick };\n          sub_grid_end = { x: axis_position.x + axis_length, y: axis_position.y + grid, z: axis_position.z + tick };\n        }\n\n        axis_line.setAttribute('line__' + tick + grid + axis_length, {\n          'start': sub_grid_start,\n          'end': sub_grid_end,\n          'color': axis_color\n        });\n      }\n\n\n    }\n    element.appendChild(axis_line);\n  }\n}\n\nfunction getAdaptiveAxisProperties(dataPoints) {\n  let max = 0;\n  let has_negative = false;\n\n  for (let point of dataPoints) {\n    if (point.x < 0 || point.y < 0 || point.z < 0)\n      has_negative = true;\n\n    let point_x = Math.abs(point.x);\n    let point_y = Math.abs(point.y);\n    let point_z = Math.abs(point.z);\n\n    if (point_x > max)\n      max = point_x;\n    if (point_y > max)\n      max = point_y;\n    if (point_z > max)\n      max = point_z;\n  }\n\n  return { max: max, has_negative: has_negative };\n}"],"sourceRoot":""}